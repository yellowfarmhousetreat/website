<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Order - Yellow Farmhouse Stand</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<a href="index.html" class="logo">üåæ Yellow Farmhouse Stand</a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
						<li><a href="index.html">Home</a></li>
						<li class="active"><a href="generic.html">Order</a></li>
						<li><a href="elements.html">Menu & Gallery</a></li>
						</ul>
						<ul class="icons">
							<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
							<li><a href="#" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
								<h1>Order Fresh Baked Goods</h1>
								<p>Fill out the form below to order pies, cakes, breads, and more.<br />
								Please allow up to 48 hours for items to be prepared.</p>
								</header>
								<section class="order-form">
								<!-- Begin imported order form from reference_document.md, formatted for Massively template -->
								<div class="order-form-massively">
									<div class="box">
										<form id="orderForm" action="https://formspree.io/f/mblpnapy" method="POST">
											<!-- Alerts -->
											<div class="alert error" id="errorAlert"></div>
											<div class="alert success" id="successAlert"></div>

											<!-- Step 1: Select Products -->
											<h2 class="major">Step 1: Select Your Items</h2>
											<div class="note-box">
												<strong>Note:</strong> Regular items contain gluten and sugar.
											</div>
											<div class="footnote-legend">
												<strong>Footnote Legend:</strong>
												<div class="footnote-item"><strong>*</strong> = Can be made Gluten Free</div>
												<div class="footnote-item"><strong>^</strong> = Can be made Sugar Free</div>
											</div>
											<div class="products-grid" id="productsGrid"></div>
											<div class="order-items" id="orderItems">
												<div class="empty-items">No items added yet</div>
											</div>
											<input type="hidden" id="orderSummary" name="order_items" value="">

											<!-- Step 2: Customer Information -->
											<h2 class="major">Step 2: Your Information</h2>
											<div class="fields">
												<div class="field">
													<label for="customerName">Full Name *</label>
													<input type="text" id="customerName" name="name" required />
												</div>
												<div class="field">
													<label for="customerPhone">Phone Number *</label>
													<input type="tel" id="customerPhone" name="phone" required />
												</div>
												<div class="field">
													<label for="customerEmail">Email Address</label>
													<input type="email" id="customerEmail" name="email" />
												</div>
											</div>

											<!-- Step 3: Fulfillment Method -->
											<h2 class="major">Step 3: How Would You Like Your Order?</h2>
											<div class="fields">
												<div class="field">
													<input type="radio" id="fulfillmentPickup" name="fulfillment_method" value="Pickup" checked onchange="handleFulfillmentChange()" />
													<label for="fulfillmentPickup"><strong>Pickup</strong> (Pick up at farmstand)</label>
												</div>
												<div class="field" id="shippingOption">
													<input type="radio" id="fulfillmentShip" name="fulfillment_method" value="Shipping" onchange="handleFulfillmentChange()" disabled />
													<label for="fulfillmentShip"><strong>Ship to Me</strong> (Delivered to your address)</label>
												</div>
												<div class="fulfillment-note" id="fulfillmentNote" style="display: none;">
													Shipping is only available when ordering Pecan English Toffee.
												</div>
												<div id="pickupSection" class="visible">
													<label for="pickupDate">Desired Pickup Date *</label>
													<input type="date" id="pickupDate" name="pickup_date" required />
													<label for="pickupTime">Pickup Time *</label>
													<input type="time" id="pickupTime" name="pickup_time" required />
												</div>
												<div id="shippingSection" class="hidden-section">
													<label for="shippingAddress">Shipping Address *</label>
													<input type="text" id="shippingAddress" name="shipping_address" placeholder="Street address" />
													<label for="shippingCity">City *</label>
													<input type="text" id="shippingCity" name="shipping_city" />
													<label for="shippingState">State *</label>
													<input type="text" id="shippingState" name="shipping_state" placeholder="ID" maxlength="2" />
													<label for="shippingZip">ZIP Code *</label>
													<input type="text" id="shippingZip" name="shipping_zip" onchange="calculateShipping()" />
													<label>Estimated Shipping Cost</label>
													<span id="shippingCost">$0.00</span>
												</div>
											</div>

											<!-- Step 4: Special Instructions -->
											<h2 class="major">Step 4: Special Instructions</h2>
											<div class="field">
												<label for="specialInstructions">Any special requests or dietary needs?</label>
												<textarea id="specialInstructions" name="special_instructions" placeholder="E.g., gluten-free, sugar-free, allergies, delivery instructions, etc."></textarea>
											</div>

											<!-- Order Summary -->
											<div class="summary-box">
												<h3 class="major">Order Summary</h3>
												<div class="summary-row">
													<span>Subtotal:</span>
													<span id="summarySubtotal">$0.00</span>
												</div>
												<div class="summary-row" id="summaryShippingRow" style="display: none;">
													<span>Shipping:</span>
													<span id="summaryShipping">$0.00</span>
												</div>
												<div class="summary-row total">
													<span>Total Due:</span>
													<span id="summaryTotal">$0.00</span>
												</div>
												<div class="summary-row deposit" id="depositRow">
													<span>50% Deposit Due Now:</span>
													<span id="summaryDeposit">$0.00</span>
												</div>
												<div class="summary-row" id="balanceRow" style="padding: 8px 0; margin: 0; margin-top: 8px; font-size: 0.9em; border-top: 1px solid rgba(255,255,255,0.2);">
													<span>Balance Due at Pickup:</span>
													<span id="summaryBalance">$0.00</span>
												</div>
											</div>

											<!-- Deposit Information -->
											<div id="depositPickupInfo" class="deposit-alert" style="display: none;">
												<strong>50% Deposit to Secure Your Pickup Appointment</strong>
												<p>A 50% deposit is required to confirm and secure your pickup appointment. The remaining balance is due at the time of pickup.</p>
												<div class="deposit-row">
													<div class="deposit-info">
														<div class="deposit-info-label">Deposit Amount:</div>
														<div class="deposit-amount-display" id="depositDisplayAmount">$0.00</div>
													</div>
													<div class="deposit-info">
														<div class="deposit-info-label">Balance Due at Pickup:</div>
														<div class="deposit-amount-display" id="balanceDisplayAmount">$0.00</div>
													</div>
												</div>
											</div>

											<!-- Step 5: Payment Method -->
											<h2 class="major">Step 5: Select Payment Method</h2>
											<div class="fields">
												<div class="field">
													<input type="radio" id="paymentCash" name="payment_method" value="Cash" required onchange="updatePaymentDetails()" />
													<label for="paymentCash"><strong>Cash</strong> (Pay deposit now, balance at pickup)</label>
												</div>
												<div class="field">
													<input type="radio" id="paymentCashApp" name="payment_method" value="Cash App" onchange="updatePaymentDetails()" />
													<label for="paymentCashApp"><strong>Cash App</strong> $DanaBlueMoonHaven</label>
												</div>
												<div class="field">
													<input type="radio" id="paymentVenmo" name="payment_method" value="Venmo" onchange="updatePaymentDetails()" />
													<label for="paymentVenmo"><strong>Venmo</strong> @BlueMoonHaven</label>
												</div>
												<div class="field">
													<input type="radio" id="paymentPayPal" name="payment_method" value="PayPal" onchange="updatePaymentDetails()" />
													<label for="paymentPayPal"><strong>PayPal</strong> @BlueMoonHaven</label>
												</div>
												<div class="field">
													<input type="radio" id="paymentZelle" name="payment_method" value="Zelle" onchange="updatePaymentDetails()" />
													<label for="paymentZelle"><strong>Zelle</strong> 805-709-4686</label>
												</div>
												<div class="payment-details" id="paymentDetails" style="display: none; margin-top: 15px;">
													<div id="paymentDetailsContent"></div>
												</div>
												<div class="payment-note">
													<strong>Payment Instructions:</strong> A 50% deposit is required to secure your pickup appointment. Your confirmation email will include payment details. The remaining 50% balance is due at pickup.
												</div>
											</div>

											<!-- Submit -->
											<ul class="actions">
												<li><button type="submit" class="primary">Submit Order & Secure Appointment</button></li>
												<li><button type="reset" onclick="resetFormComplete()">Clear Form</button></li>
											</ul>
										</form>
									</div>
								</div>
								<!-- End imported order form -->
</section>
							</section>

					</div>

				<!-- Footer -->
					<footer id="footer">
						<section>
							<form method="post" action="#">
								<div class="fields">
									<div class="field">
										<label for="name">Name</label>
										<input type="text" name="name" id="name" />
									</div>
									<div class="field">
										<label for="email">Email</label>
										<input type="text" name="email" id="email" />
									</div>
									<div class="field">
										<label for="message">Message</label>
										<textarea name="message" id="message" rows="3"></textarea>
									</div>
								</div>
								<ul class="actions">
									<li><input type="submit" value="Send Message" /></li>
								</ul>
							</form>
						</section>
						<section class="split contact">
							<section class="alt">
								<h3>Address</h3>
								<p>1234 Somewhere Road #87257<br />
								Nashville, TN 00000-0000</p>
							</section>
							<section>
								<h3>Phone</h3>
								<p><a href="#">(000) 000-0000</a></p>
							</section>
							<section>
								<h3>Email</h3>
								<p><a href="#">info@untitled.tld</a></p>
							</section>
							<section>
								<h3>Social</h3>
								<ul class="icons alt">
									<li><a href="#" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
									<li><a href="#" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
									<li><a href="#" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
									<li><a href="#" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
								</ul>
							</section>
						</section>
					</footer>

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>&copy; Untitled</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<!-- Begin imported order form scripts from reference_document.md -->
			<script>
			// ========== PRODUCT DATABASE WITH FLAVOR NOTES ==========
			const menuItems = [
				{ name: "Milk Bread", emoji: "üçû", sizes: ["Loaf"], basePrice: 12, flavors: ["Standard"], flavorNotes: {} },
				{ name: "Pumpkin Bread", emoji: "üéÉ", sizes: ["Loaf"], basePrice: 12, flavors: ["Standard"], flavorNotes: {} },
				{ name: "Mini Cakes (Cream Cheese Frosting)", emoji: "üßÅ", sizes: ["Single", "Half Dozen", "Dozen"], sizePrice: { "Single": 6, "Half Dozen": 30, "Dozen": 50 }, flavors: ["Standard"], flavorNotes: {} },
				{ name: "Cinnamon Rolls", emoji: "üåÄ", sizes: ["Half Dozen", "Dozen"], sizePrice: { "Half Dozen": 15, "Dozen": 28 }, flavors: ["Standard"], flavorNotes: {} },
				{ name: "Fruit Pies/Crisps", emoji: "ü•ß", sizes: ["Per Pie/Crisp"], basePrice: 25, flavors: ["Apple", "Pumpkin", "Peach", "Lemon Meringue", "Apple Crisp", "Pumpkin Crisp", "Peach Cobbler"], flavorNotes: { "Apple Crisp": { glutenFree: true, sugarFree: true }, "Pumpkin Crisp": { glutenFree: true, sugarFree: true } }, flavorPrices: { "Peach Cobbler": 5 }, hasDeposit: true, depositAmount: 5, canShip: false },
				{ name: "Muffins", emoji: "üßÅ", sizes: ["Half Dozen", "Dozen"], sizePrice: { "Half Dozen": 15, "Dozen": 28 }, flavors: ["Pumpkin", "Oatmeal"], flavorNotes: {} },
				{ name: "Cupcakes", emoji: "üßÅ", sizes: ["Half Dozen", "Dozen"], sizePrice: { "Half Dozen": 15, "Dozen": 28 }, flavors: ["Chocolate Lava", "Ding Dongs", "Holiday Specials"], flavorNotes: { "Chocolate Lava": { glutenFree: true, sugarFree: true } } },
				{ name: "Cookies~Simple", emoji: "üç™", sizes: ["Half Dozen", "Dozen"], sizePrice: { "Half Dozen": 12, "Dozen": 20 }, flavors: ["Peanut Butter", "Chocolate", "Chocolate Chip", "Oatmeal", "Snickerdoodle"], flavorNotes: { "Oatmeal": { glutenFree: true, sugarFree: false } } },
				{ name: "Cookies~Fancy", emoji: "üç™", sizes: ["Half Dozen", "Dozen"], sizePrice: { "Half Dozen": 20, "Dozen": 32 }, flavors: ["Biscoff", "Chocolate", "Oreo", "Twix", "Red Velvet", "Chocolate Chip", "Espresso", "Cinnamon Roll", "Pumpkin", "Holiday Specials"], flavorNotes: {} },
				{ name: "Cookies~Complex", emoji: "üç™", sizes: ["Half Dozen", "Dozen"], sizePrice: { "Half Dozen": 25, "Dozen": 45 }, flavors: ["S'more", "Monster", "Peanut Butter Cup Stuffed", "Caramel Apple Pie"], flavorNotes: {} },
				{ name: "Dipped Pretzel Rods", emoji: "ü•®", sizes: ["Half Dozen", "Dozen"], sizePrice: { "Half Dozen": 10, "Dozen": 18 }, flavors: ["Chocolate", "Vanilla", "Candy"], flavorNotes: {} },
				{ name: "Brownies - Large", emoji: "üç´", sizes: ["4-Pack"], basePrice: 18, flavors: ["Standard"], flavorNotes: { "Standard": { glutenFree: true, sugarFree: false } } },
				{ name: "Pecan English Toffee", emoji: "üéÅ", sizes: ["1 Pound (Regular Box)", "1 Pound (Mason Jar - Gift)"], sizePrice: { "1 Pound (Regular Box)": 30, "1 Pound (Mason Jar - Gift)": 35 }, flavors: ["Standard"], flavorNotes: {}, canShip: true }
			];
			let cart = [];
			const paymentInfo = {
				"Cash": "Pay 50% deposit now to secure your appointment. Bring remaining 50% at pickup.",
				"Cash App": "Send 50% deposit to: <a href='https://cash.app/$DanaBlueMoonHaven'>$DanaBlueMoonHaven</a> to secure your appointment.",
				"Venmo": "Send 50% deposit to: <a href='https://venmo.com/BlueMoonHaven'>@BlueMoonHaven</a> to secure your appointment.",
				"PayPal": "Send 50% deposit to: <a href='https://paypal.me/BlueMoonHaven'>@BlueMoonHaven</a> to secure your appointment.",
				"Zelle": "Use Zelle to send 50% deposit to: <strong>805-709-4686</strong> to secure your appointment."
			};
			function updatePaymentDetails() {
				const selectedMethod = document.querySelector('input[name="payment_method"]:checked').value;
				const detailsDiv = document.getElementById('paymentDetails');
				const contentDiv = document.getElementById('paymentDetailsContent');
				if (selectedMethod && paymentInfo[selectedMethod]) {
					contentDiv.innerHTML = paymentInfo[selectedMethod];
					detailsDiv.style.display = 'block';
				} else {
					detailsDiv.style.display = 'none';
				}
			}
			function initializeProducts() {
				const grid = document.getElementById('productsGrid');
				grid.innerHTML = '';
				menuItems.forEach((item, index) => {
					let defaultPrice = item.basePrice || item.sizePrice[item.sizes[0]];
					const card = document.createElement('div');
					card.className = 'product-card';
					card.innerHTML = `
						<div class="product-header">
							<div class="product-name">${item.emoji} ${item.name}</div>
							<div class="product-price">from $${defaultPrice.toFixed(2)}</div>
						</div>
						<div class="product-form">
							<div class="form-group">
								<label>Size</label>
								<select id="size-${index}" class="product-select">
									${item.sizes.map(size => `<option value="${size}">${size}</option>`).join('')}
								</select>
							</div>
							<div class="form-group">
								<label>Flavor</label>
								<select id="flavor-${index}" class="product-select" onchange="updateDietaryOptions(${index})">
									${item.flavors.map(flavor => `<option value="${flavor}">${flavor}</option>`).join('')}
								</select>
							</div>
							<div class="form-group">
								<label>Quantity</label>
								<input type="number" id="qty-${index}" min="1" value="1">
							</div>
						</div>
						<div class="dietary-section" id="dietary-${index}">
							<div class="dietary-checkboxes">
								<div class="dietary-option" id="gluten-option-${index}">
									<input type="checkbox" id="gluten-${index}" class="gluten-checkbox">
									<label for="gluten-${index}">Gluten Free</label>
								</div>
								<div class="dietary-option" id="sugar-option-${index}">
									<input type="checkbox" id="sugar-${index}" class="sugar-checkbox">
									<label for="sugar-${index}">Sugar Free</label>
								</div>
							</div>
						</div>
						<button type="button" class="btn btn-add-item" onclick="addToCart(${index})">Add to Order</button>
					`;
					grid.appendChild(card);
				});
				for (let i = 0; i < menuItems.length; i++) {
					updateDietaryOptions(i);
				}
			}
			function updateDietaryOptions(index) {
				const item = menuItems[index];
				const flavorSelect = document.getElementById(`flavor-${index}`);
				const selectedFlavor = flavorSelect.value;
				const dietarySection = document.getElementById(`dietary-${index}`);
				const glutenOption = document.getElementById(`gluten-option-${index}`);
				const sugarOption = document.getElementById(`sugar-option-${index}`);
				const flavorNotes = item.flavorNotes[selectedFlavor] || {};
				document.getElementById(`gluten-${index}`).checked = false;
				document.getElementById(`sugar-${index}`).checked = false;
				if (flavorNotes.glutenFree) {
					glutenOption.classList.remove('hidden');
				} else {
					glutenOption.classList.add('hidden');
				}
				if (flavorNotes.sugarFree) {
					sugarOption.classList.remove('hidden');
				} else {
					sugarOption.classList.add('hidden');
				}
				if (flavorNotes.glutenFree || flavorNotes.sugarFree) {
					dietarySection.classList.remove('hidden');
				} else {
					dietarySection.classList.add('hidden');
				}
			}
			function addToCart(index) {
				const item = menuItems[index];
				const size = document.getElementById(`size-${index}`).value;
				const flavor = document.getElementById(`flavor-${index}`).value;
				const qty = parseInt(document.getElementById(`qty-${index}`).value) || 1;
				if (qty < 1) {
					showError('Please enter a quantity of at least 1');
					return;
				}
				const glutenFree = document.getElementById(`gluten-${index}`)?.checked || false;
				const sugarFree = document.getElementById(`sugar-${index}`)?.checked || false;
				let price = item.basePrice || item.sizePrice[size];
				let flavorUpcharge = item.flavorPrices?.[flavor] || 0;
				let totalPrice = (price + flavorUpcharge) * qty;
				let specs = `${size}`;
				if (flavor !== 'Standard') specs += ` - ${flavor}`;
				if (glutenFree) specs += ' [GF]';
				if (sugarFree) specs += ' [SF]';
				const cartItem = {
					id: Date.now(),
					itemName: item.name,
					emoji: item.emoji,
					specs: specs,
					qty: qty,
					price: totalPrice,
					canShip: item.canShip || false
				};
				cart.push(cartItem);
				updateCart();
				showSuccess(`Added ${qty}x ${item.name} to order!`);
				document.getElementById(`qty-${index}`).value = 1;
			}
			function removeFromCart(cartItemId) {
				cart = cart.filter(item => item.id !== cartItemId);
				updateCart();
			}
			function updateCart() {
				const orderItemsDiv = document.getElementById('orderItems');
				if (cart.length === 0) {
					orderItemsDiv.innerHTML = '<div class="empty-items">No items added yet</div>';
				} else {
					orderItemsDiv.innerHTML = cart.map(item => `
						<div class="order-item">
							<div class="order-item-details">
								<div>
									<div class="order-item-name">${item.emoji} ${item.itemName}</div>
									<div class="order-item-specs">${item.qty}x - ${item.specs}</div>
								</div>
								<div class="order-item-price">$${item.price.toFixed(2)}</div>
							</div>
							<div class="order-item-actions">
								<button type="button" class="btn btn-remove btn-small" onclick="removeFromCart(${item.id})">Remove</button>
							</div>
						</div>
					`).join('');
				}
				checkShippingAvailability();
				calculateTotals();
			}
			function checkShippingAvailability() {
				const hasToffee = cart.some(item => item.canShip);
				const shippingRadio = document.getElementById('fulfillmentShip');
				const shippingOption = document.getElementById('shippingOption');
				const fulfillmentNote = document.getElementById('fulfillmentNote');
				if (hasToffee) {
					shippingRadio.disabled = false;
					shippingOption.classList.remove('fulfillment-option-disabled');
					fulfillmentNote.style.display = 'none';
				} else {
					shippingRadio.disabled = true;
					shippingOption.classList.add('fulfillment-option-disabled');
					fulfillmentNote.style.display = 'block';
					if (shippingRadio.checked) {
						document.getElementById('fulfillmentPickup').checked = true;
						handleFulfillmentChange();
					}
				}
			}
			function handleFulfillmentChange() {
				const fulfillment = document.querySelector('input[name="fulfillment_method"]:checked').value;
				const pickupSection = document.getElementById('pickupSection');
				const shippingSection = document.getElementById('shippingSection');
				const pickupDateInput = document.getElementById('pickupDate');
				const pickupTimeInput = document.getElementById('pickupTime');
				const shippingInputs = document.querySelectorAll('#shippingSection input');
				const depositInfo = document.getElementById('depositPickupInfo');
				if (fulfillment === 'Pickup') {
					pickupSection.classList.add('visible');
					pickupSection.classList.remove('hidden-section');
					shippingSection.classList.remove('visible');
					shippingSection.classList.add('hidden-section');
					pickupDateInput.required = true;
					pickupTimeInput.required = true;
					shippingInputs.forEach(input => input.required = false);
					document.getElementById('summaryShippingRow').style.display = 'none';
					depositInfo.style.display = 'block';
				} else {
					pickupSection.classList.remove('visible');
					pickupSection.classList.add('hidden-section');
					shippingSection.classList.add('visible');
					shippingSection.classList.remove('hidden-section');
					pickupDateInput.required = false;
					pickupTimeInput.required = false;
					shippingInputs.forEach(input => input.required = true);
					document.getElementById('summaryShippingRow').style.display = 'flex';
					depositInfo.style.display = 'none';
				}
				calculateTotals();
			}
			function calculateShipping() {
				const zipCode = document.getElementById('shippingZip').value;
				let shippingCost = 0;
				if (zipCode) {
					const zip = parseInt(zipCode);
					if (zip >= 83600 && zip <= 83899) {
						shippingCost = 10;
					} else if (zip >= 97000 && zip <= 97999) {
						shippingCost = 15;
					} else if (zip >= 98000 && zip <= 99999) {
						shippingCost = 15;
					} else if (zip >= 84000 && zip <= 84999) {
						shippingCost = 12;
					} else {
						shippingCost = 20;
					}
				}
				document.getElementById('shippingCost').textContent = `$${shippingCost.toFixed(2)}`;
				calculateTotals();
			}
			function calculateTotals() {
				let subtotal = cart.reduce((sum, item) => sum + item.price, 0);
				let shippingCost = 0;
				const fulfillment = document.querySelector('input[name="fulfillment_method"]:checked').value;
				if (fulfillment === 'Shipping') {
					const shippingCostText = document.getElementById('shippingCost').textContent;
					shippingCost = parseFloat(shippingCostText.replace('$', '')) || 0;
				}
				const total = subtotal + shippingCost;
				const deposit = total * 0.5;
				const balance = total - deposit;
				document.getElementById('summarySubtotal').textContent = `$${subtotal.toFixed(2)}`;
				document.getElementById('summaryShipping').textContent = `$${shippingCost.toFixed(2)}`;
				document.getElementById('summaryTotal').textContent = `$${total.toFixed(2)}`;
				document.getElementById('summaryDeposit').textContent = `$${deposit.toFixed(2)}`;
				document.getElementById('summaryBalance').textContent = `$${balance.toFixed(2)}`;
				document.getElementById('depositDisplayAmount').textContent = `$${deposit.toFixed(2)}`;
				document.getElementById('balanceDisplayAmount').textContent = `$${balance.toFixed(2)}`;
				const orderDetails = cart.map(item => 
					`${item.qty}x ${item.itemName} - ${item.specs}: $${item.price.toFixed(2)}`
				).join('\n');
				document.getElementById('orderSummary').value = orderDetails + `\n\nTotal: $${total.toFixed(2)}\n50% Deposit Due: $${deposit.toFixed(2)}\nBalance Due at Pickup: $${balance.toFixed(2)}`;
			}
			document.getElementById('orderForm').addEventListener('submit', function(e) {
				if (cart.length === 0) {
					e.preventDefault();
					showError('Please add at least one item to your order.');
					return;
				}
				const name = document.getElementById('customerName').value.trim();
				const phone = document.getElementById('customerPhone').value.trim();
				if (!name || !phone) {
					e.preventDefault();
					showError('Please fill in your name and phone number.');
					return;
				}
				const paymentMethod = document.querySelector('input[name="payment_method"]:checked');
				if (!paymentMethod) {
					e.preventDefault();
					showError('Please select a payment method.');
					return;
				}
				const fulfillment = document.querySelector('input[name="fulfillment_method"]:checked').value;
				if (fulfillment === 'Pickup') {
					const pickupDate = document.getElementById('pickupDate').value;
					const pickupTime = document.getElementById('pickupTime').value;
					if (!pickupDate || !pickupTime) {
						e.preventDefault();
						showError('Please select a pickup date and time.');
						return;
					}
				}
				calculateTotals();
			});
			function resetFormComplete() {
				document.getElementById('orderForm').reset();
				cart = [];
				updateCart();
				document.getElementById('pickupDate').value = '';
				document.getElementById('pickupTime').value = '';
				document.getElementById('fulfillmentPickup').checked = true;
				handleFulfillmentChange();
				document.getElementById('paymentDetails').style.display = 'none';
			}
			function showError(message) {
				const alert = document.getElementById('errorAlert');
				alert.textContent = '‚ùå ' + message;
				alert.classList.add('visible');
				setTimeout(() => alert.classList.remove('visible'), 5000);
			}
			function showSuccess(message) {
				const alert = document.getElementById('successAlert');
				alert.textContent = '‚úÖ ' + message;
				alert.classList.add('visible');
				setTimeout(() => alert.classList.remove('visible'), 3000);
			}
			document.addEventListener('DOMContentLoaded', function() {
				initializeProducts();
				checkShippingAvailability();
				calculateTotals();
				const today = new Date().toISOString().split('T')[0];
				document.getElementById('pickupDate').min = today;
			});
			</script>
			<!-- End imported order form scripts -->

	</body>
</html>